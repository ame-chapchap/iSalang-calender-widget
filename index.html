# 📋 Googleカレンダーウィジェット - 仕様書

## 🎯 **概要**
Google Calendar APIを使用したカスタムカレンダーウィジェット。Notion埋め込み用に最適化されており、スマホとPCで理想的な表示を実現。

## 🔧 **技術仕様**

### **使用技術**
- **言語**: HTML5, CSS3, JavaScript (ES6+)
- **API**: Google Calendar API v3
- **認証**: APIキー認証
- **レスポンシブ**: CSS Grid + Flexbox
- **デザイン**: グラスモーフィズム + グラデーション

### **APIキー設定**
```javascript
let apiKey = 'AIzaSyD7nOJVgpjuqu6-LjXDq7UNRBUGcCT3dDE';
const calendarId = 'isalang.2ain@gmail.com';
```

## 📱 **機能仕様**

### **表示モード**
1. **月表示** (デフォルト)
   - 7×6グリッドカレンダー
   - 月曜始まり (`wkst=2`)
   - 前月/次月の日付も表示

2. **週表示**
   - 今週の7日間を縦並び
   - 各日の予定をカード形式で表示

3. **予定表示**
   - 今月の全予定を時系列リスト
   - 日付ヘッダー付き

### **ナビゲーション**
- **前月/次月**: `‹` `›` ボタン
- **今日**: 現在の月にジャンプ
- **ビュー切替**: 月/週/予定ボタン

### **イベント表示**
```javascript
// 表示形式
06:00
朝活...

// タイトル処理
- 改行含む → 最初の行のみ
- 長いタイトル → PC:12文字、スマホ:8文字で「...」
- ツールチップ → ホバー時に完全タイトル表示
```

## 🎨 **デザイン仕様**

### **カラーパレット**
```css
/* 背景グラデーション */
background: linear-gradient(135deg, #e8f4f8 0%, #f0f8e8 100%);

/* イベント色 */
background: rgba(66, 165, 245, 0.7);

/* アクティブボタン */
background: linear-gradient(135deg, #a8e6cf 0%, #88d8a3 100%);
```

### **レスポンシブ設計**
```css
/* PC */
.calendar-container { min-height: 100vh; }
.calendar-cell { min-height: 90px; }

/* タブレット (768px以下) */
.calendar-cell { min-height: 80px; }

/* スマホ (480px以下) */
.calendar-cell { min-height: 60px; }
```

## 📐 **レイアウト仕様**

### **グリッドシステム**
```css
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 0px; /* 境界線なし */
}

/* 完全7等分 */
.calendar-cell {
    max-width: calc(100% / 7);
    min-width: calc(100% / 7);
}
```

### **曜日幅統一**
- **PC**: `calc(100% / 7)`
- **スマホ**: `calc(100vw / 7 - 4px)`

## 🔌 **API仕様**

### **エンドポイント**
```
GET https://www.googleapis.com/calendar/v3/calendars/{calendarId}/events
```

### **パラメータ**
```javascript
const params = {
    key: apiKey,
    timeMin: calendarStart.toISOString(),
    timeMax: calendarEnd.toISOString(),
    singleEvents: true,
    orderBy: 'startTime'
};
```

### **必要な権限**
- Google Calendar API 読み取り権限
- HTTPリファラー制限: `https://ame-chapchap.github.io/*`

## 📱 **スマホ最適化**

### **タッチ対応**
- ボタンサイズ: 最小44px (iOS推奨)
- タップ領域確保

### **文字サイズ調整**
```css
/* PC */
.event { font-size: 10px; }
.event-title { font-size: 9px; }

/* スマホ */
.event { font-size: 8px; }
.event-title { font-size: 8px; }
```

## 🔒 **セキュリティ仕様**

### **APIキー制限**
- **ドメイン制限**: GitHub Pages のみ
- **API制限**: Google Calendar API のみ
- **リファラー確認**: 自動適用

### **公開カレンダー設定**
```
予定のアクセス権限: 一般公開
表示設定: すべての予定の詳細
```

## 🚀 **デプロイ仕様**

### **ホスティング**
- **推奨**: GitHub Pages
- **URL**: `https://ame-chapchap.github.io/iSalang-calender-widget/`

### **Notion埋め込み**
```
/embed → GitHubPagesのURL貼り付け
```

## 🔄 **更新仕様**

### **リアルタイム更新**
- ページ読み込み時: 自動API呼び出し
- 月変更時: 新しい期間のイベント取得
- エラー時: 詳細エラーメッセージ表示

この仕様に基づいて、理想的な「06:00\n朝活」表示を実現するカレンダーウィジェットが完成しています！ 🎉
